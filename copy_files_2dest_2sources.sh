#!/bin/bash

# Define the source and destination directories
src_dir_a="/home/nikolas/Documents/smartcontracts/contractdb/contracts/exploitable/RE"
src_dir_c="/home/nikolas/Documents/Master_Project/output"
dest_dir_b="/home/nikolas/reentrancy/Reentrancy/vulnerable"
dest_dir_d="/home/nikolas/reentrancy/Reentrancy/fixed"

filename_list=/home/nikolas/reentrancy/Reentrancy/filenames.txt

# Loop through the filenames in the list
while read -r filename; do
    # Check if the file exists in source directory a and copy it to c if it does
    echo $filename
    if [ -f "$src_dir_a/$filename" ]; then
        cp "$src_dir_a/$filename" "$dest_dir_b/$filename"
    fi
    
    # Construct the paths for the corresponding files in directories c and d

    src_file_c="$src_dir_c/${filename}_fixed.sol"
    dest_file_d="$dest_dir_d/${filename}_fixed.sol"
    # Check if the file exists in source directory b and copy it to d if it does
    if [ -f "$src_file_c" ]; then
        cp "$src_file_c" "$dest_file_d"
    fi
done < "$filename_list"
